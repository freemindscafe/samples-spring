<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Samples Spring: Package com.freemindcafe.spring.jdbc.sample4</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Samples Spring
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Packages</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>com</b></li><li class="navelem"><b>freemindcafe</b></li><li class="navelem"><b>spring</b></li><li class="navelem"><a class="el" href="namespacecom_1_1freemindcafe_1_1spring_1_1jdbc.html">jdbc</a></li><li class="navelem"><a class="el" href="namespacecom_1_1freemindcafe_1_1spring_1_1jdbc_1_1sample4.html">sample4</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">Package com.freemindcafe.spring.jdbc.sample4</div>  </div>
</div><!--header-->
<div class="contents">

<p>Absence of @Transactional results in no transaction. Presence of @Transactional results in transaction support.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1freemindcafe_1_1spring_1_1jdbc_1_1sample4_1_1_incorrect_proxies_will_fail_the_test.html">IncorrectProxiesWillFailTheTest</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacecom_1_1freemindcafe_1_1spring_1_1jdbc_1_1sample4_1_1_i_sample_service.html">ISampleService</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1freemindcafe_1_1spring_1_1jdbc_1_1sample4_1_1_sample_service_impl.html">SampleServiceImpl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1freemindcafe_1_1spring_1_1jdbc_1_1sample4_1_1_sample_service_impl_does_not_implement_interface.html">SampleServiceImplDoesNotImplementInterface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1freemindcafe_1_1spring_1_1jdbc_1_1sample4_1_1_sample_service_impl_works_as_it_does_not_implement_interface_test.html">SampleServiceImplWorksAsItDoesNotImplementInterfaceTest</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1freemindcafe_1_1spring_1_1jdbc_1_1sample4_1_1_sample_service_impl_works_as_it_uses_cglib_proxy_test.html">SampleServiceImplWorksAsItUsesCglibProxyTest</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Absence of @Transactional results in no transaction. Presence of @Transactional results in transaction support. </p>
<p>We have &lt;context:annotation-config /&gt; and &lt;tx:annotation-driven transaction-manager="transactionManager" /&gt; in wiring. </p>
<ul>
<li>
If the target class implements one or more interfaces, then Spring will create a JDK dynamic proxy that implements every interface. <a class="el" href="_incorrect_proxies_will_fail_the_test_8java_source.html">IncorrectProxiesWillFailTheTest.java</a> is for that. </li>
<li>
If the target class implements no interfaces, Spring will use CGLIB to create a new class on the fly that is a subclass ("extends") the target class.SampleServiceImplWorksAsItDoesNotImplementInterfaceTest id for that. </li>
<li>
One can force spring to use cglib proxy <a class="el" href="classcom_1_1freemindcafe_1_1spring_1_1jdbc_1_1sample4_1_1_sample_service_impl_works_as_it_uses_cglib_proxy_test.html">SampleServiceImplWorksAsItUsesCglibProxyTest</a> is for that. </li>
</ul>
<h3>Summary</h3>
<ul>
<li>
Always specify @Transactional on classes and let spring decide to make a jdk or cglib proxy. </li>
<li>
If the class implements an interface then we will have jdk proxy else spring will create cglib proxy. So we should have cglig in the classpath always. </li>
<li>
If we have the annotation on the class, both the proxies will recognize the annotations. cglib proxy will ignore the annotations defined on interface. see below for more details. SampleServiceImplWorksAsItUsesCglibProxyTest.service3_Is_Transactional_At_Interface_But_Cglib_Ignores_Annotation_On_Interface_Hence_On_Exception_Data_Is_Persisted  </li>
<li>
In no case we should wire based on the implementation type and not on interface type. </li>
<li>
If we wire using implementation type then only cglib will work. And to force spring to use cglib irrespective of classes implementing interfaces, we will have to use the following in xml configuration proxy-target-class="true". see below for more details. <a class="el" href="classcom_1_1freemindcafe_1_1spring_1_1jdbc_1_1sample4_1_1_sample_service_impl_works_as_it_uses_cglib_proxy_test.html">SampleServiceImplWorksAsItUsesCglibProxyTest</a> </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jul 10 2015 22:46:38 for Samples Spring by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
